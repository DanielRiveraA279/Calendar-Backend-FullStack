{"version":3,"sources":["types/types.js","reducers/authReducer.js","reducers/calendarReducer.js","reducers/uiReducer.js","reducers/rootReducer.js","store/store.js","helpers/fetch.js","helpers/prepareEvents.js","actions/events.js","actions/auth.js","hooks/useForm.js","components/auth/LoginScreen.js","components/ui/NavBar.js","helpers/calendar.messages.es.js","components/calendar/CalendarEvent.js","actions/ui.js","components/calendar/CalendarModal.js","components/ui/AddNewFab.js","components/ui/DeleteEventFab.js","components/calendar/CalendarScreen.js","router/PrivateRoute.js","router/PublicRoute.js","router/AppRouter.js","CalendarApp.js","index.js"],"names":["types","initialState","checking","events","activeEvent","modalOpen","rootReducer","combineReducers","ui","state","arguments","length","undefined","type","Object","objectSpread2","calendar","action","payload","concat","toConsumableArray","map","e","id","filter","auth","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","basaUrl","process","fetchSinToken","endpoint","data","method","url","fetch","headers","Content-type","body","JSON","stringify","fetchConToken","token","localStorage","getItem","x-token","prepareEvents","end","moment","toDate","start","eventAddNew","event","eventClearActiveEvent","eventUpdated","eventDeleted","eventLoaded","checkingFinish","login","user","startLogout","dispatch","clear","logout","useForm","_useState","useState","_useState2","slicedToArray","values","setValues","_ref","target","defineProperty","name","value","LoginScreen","useDispatch","_useForm","lEmail","lPassword","_useForm2","formLoginValues","handleLoginInputChange","_useForm3","rName","rEmail","rPassword1","rPassword2","_useForm4","formRegisterValues","handleRegisterInputChange","react_default","a","createElement","className","onSubmit","email","password","preventDefault","asyncToGenerator","regenerator_default","mark","_callee","resp","wrap","_context","prev","next","sent","json","ok","setItem","Date","getTime","uid","Swal","fire","msg","stop","_x","apply","this","placeholder","onChange","_ref2","_callee2","_context2","_x2","NavBar","useSelector","onClick","messages","allDay","previous","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","CalendarEvent","title","uiOpenModal","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","minutes","seconds","add","nowPlusOne","clone","initEvent","notes","CalendarModal","dateStart","setDateStart","_useState3","_useState4","dateEnd","setDateEnd","_useState5","_useState6","titleValid","setTitleValid","_useState7","_useState8","formValues","setFormValues","useEffect","handleInputChange","closeModal","lib_default","isOpen","onRequestClose","style","closeTimeoutMS","overlayClassName","momentStart","momentEnd","isSameOrAfter","trim","t0","_x3","getState","_getState$auth","evento","_id","console","log","eventStartAddNew","entry_default","minDate","autoComplete","rows","AddNewFab","DeleteEventFab","_ref3","_callee3","_context3","_x4","_x5","locale","localizer","momentLocalizer","CalendarScreen","_useSelector","lastView","setLastView","_ref4","_callee4","_context4","eventos","_x6","NavBar_NavBar","react_big_calendar_esm","startAccessor","endAccessor","eventPropGetter","isSelected","backgroundColor","borderRadius","opacity","display","color","onSelectEvent","onDoubleClickEvent","onView","onSelectSlot","selectable","view","components","AddNewFab_AddNewFab","DeleteEventFab_DeleteEventFab","CalendarModal_CalendarModal","PrivateRoute","children","react_router","to","PublicRoute","AppRouter","react_router_dom","path","element","router_PublicRoute","LoginScreen_LoginScreen","router_PrivateRoute","CalendarScreen_CalendarScreen","CalendarApp","es","AppRouter_AppRouter","ReactDOM","render","StrictMode","CalendarApp_CalendarApp","document","getElementById"],"mappings":"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","file":"static/js/main.a09eeb35.chunk.js","sourcesContent":["export const types = {\n    uiOpenModal: '[ui] Open modal',\n    uiCloseModal: '[ui] Close modal',\n\n    eventSetActive: '[event] Set Active',\n    eventLogout: '[event] Logout event',\n\n    eventStartAddNew: '[event] Start add new',\n    eventAddNew: '[event] Add new',\n    eventClearActiveEvent: '[event] Clear active event',\n    eventUpdated: '[event] Event updated',\n    eventDeleted: '[event] Event deleted',\n    eventLoaded: '[event] Events loaded',\n\n    authChecking: '[auth] Checking login state',\n    authCheckingFinish: '[auth] Finish checking login state',\n    authStartLogin: '[auth] Start login',\n    authLogin: '[auth] Login',\n    authStartRegister: '[auth] Start Register',\n    authStartStartTokenRenew: '[auth] Start token renew',\n    authLogout: '[auth] Logout',\n}","import { types } from \"../types/types\"\n\nconst initialState = {\n    checking: true, //si esta o no autenticado\n    // uid: null,\n    // name: null\n}\n\nexport const authReducer = (state = initialState, action) => {\n    switch (action.type) {\n\n        case types.authLogin:\n            return {\n                ...state,\n                ...action.payload,\n                checking: false,\n            }\n        case types.authCheckingFinish:\n            return {\n                ...state,\n                checking: false\n            }\n        case types.authLogout:\n            return {\n                checking: false\n            }\n        default:\n            return state\n    }\n}","import moment from 'moment';\nimport { types } from '../types/types';\n\n// {\n//     id: new Date().getTime(),\n//     title: 'Cumple del jefe',\n//     start: moment().toDate(),\n//     end: moment().add(2, 'hours').toDate(),\n//     notes: 'Comprar el pastel',\n//     user: {\n//         _id: '1234',\n//         name: 'Daniel Antonio Rivera'\n//     }\n// }\n\nconst initialState = {\n    events: [],\n    activeEvent: null\n};\n\nexport const calendarReducer = (state = initialState, action) => {\n    switch (action.type) {\n\n        case types.eventSetActive:\n            return {\n                ...state,\n                activeEvent: action.payload\n            }\n        case types.eventAddNew:\n            return {\n                ...state,\n                events: [\n                    ...state.events,\n                    action.payload\n                ]\n            }\n        case types.eventClearActiveEvent:\n            return {\n                ...state,\n                activeEvent: null\n            }\n        case types.eventUpdated:\n            return {\n                ...state,\n                events: state.events.map(\n                    e => (e.id === action.payload.id) ? action.payload : e\n                )\n            }\n        case types.eventDeleted:\n            return {\n                ...state,\n                events: state.events.filter(\n                    e => (e.id !== state.activeEvent.id) //actualizamos el nuevo array sin el event seleccionado\n                ),\n                activeEvent: null\n            }\n        case types.eventLoaded:\n            return {\n                ...state,\n                events: [...action.payload]\n            }\n        case types.eventLogout:\n            return {\n                ...initialState\n            }\n        default:\n            return state;\n    }\n}","import { types } from \"../types/types\";\n\nconst initialState = {\n    modalOpen: false,\n}\n\nexport const uiReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case types.uiOpenModal:\n            return {\n                ...state,\n                modalOpen: true\n            }\n        case types.uiCloseModal:\n            return {\n                ...state,\n                modalOpen: false\n            }\n        default:\n            return state;\n    }\n}","import { combineReducers } from \"redux\";\nimport { authReducer } from \"./authReducer\";\nimport { calendarReducer } from \"./calendarReducer\";\nimport { uiReducer } from \"./uiReducer\";\n\n\nexport const rootReducer = combineReducers({\n    ui: uiReducer,\n    calendar: calendarReducer,\n    auth: authReducer\n})  ","import { createStore, compose, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { rootReducer } from \"../reducers/rootReducer\";\n\nconst composeEnhancers = (typeof window != 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\nexport const store = createStore(\n    rootReducer,\n    composeEnhancers(\n        applyMiddleware(thunk)\n    )\n\n)","\nconst basaUrl = process.env.REACT_APP_API_URL;\n\nconst fetchSinToken = (endpoint, data, method = 'GET') => {\n    const url = `${basaUrl}/${endpoint}`;\n\n    if (method === 'GET') {\n\n        return fetch(url);\n\n    } else {\n\n        return fetch(url, {\n            method,\n            headers: {\n                'Content-type': 'application/json'\n            },\n            body: JSON.stringify(data)\n        });\n\n    }\n}\n\nconst fetchConToken = (endpoint, data, method = 'GET') => {\n    const url = `${basaUrl}/${endpoint}`;\n\n    const token = localStorage.getItem('token') || '';\n\n    if (method === 'GET') {\n\n        return fetch(url, {\n            method,\n            headers: {\n                'x-token': token\n            },\n            body: JSON.stringify(data)\n        });\n\n    } else {\n\n        return fetch(url, {\n            method,\n            headers: {\n                'Content-type': 'application/json',\n                'x-token': token\n            },\n            body: JSON.stringify(data)\n        });\n\n    }\n}\n\n\nexport {\n    fetchSinToken,\n    fetchConToken\n}","import moment from 'moment';\n\nexport const prepareEvents = (events = []) => {\n\n    return events.map(\n        (e) => ({\n            ...e,\n            end: moment(e.end).toDate(), //conversion de string a date\n            start: moment(e.start).toDate(), //conversion de string a date\n        })\n    )\n}","import Swal from \"sweetalert2\";\nimport { fetchConToken } from \"../helpers/fetch\";\nimport { prepareEvents } from \"../helpers/prepareEvents\";\nimport { types } from \"../types/types\";\n\nexport const eventStartAddNew = (event) => {\n    return async (dispatch, getState) => {\n\n        const { uid, name } = getState().auth;\n\n        try {\n            const resp = await fetchConToken('events', event, 'POST');\n            const body = await resp.json();\n\n            if (body.ok) {\n                event.id = body.evento.id;\n                event.user = {\n                    _id: uid,\n                    name: name\n                }\n            }\n\n            console.log('Resultado', event);\n            dispatch(eventAddNew(event));\n\n        } catch (error) {\n            console.log(error);\n        }\n    }\n}\n\nconst eventAddNew = (event) => ({\n    type: types.eventAddNew,\n    payload: event\n});\n\nexport const eventSetActive = (event) => ({\n    type: types.eventSetActive,\n    payload: event\n});\n\n\nexport const eventClearActiveEvent = () => ({ type: types.eventClearActiveEvent })\n\nexport const eventStartUpdate = (event) => {\n    return async (dispatch) => {\n        try {\n            const resp = await fetchConToken(`events/${event.id}`, event, 'PUT');\n            const body = await resp.json();\n\n            if (body.ok) {\n                dispatch(eventUpdated(event));\n            } else {\n                Swal.fire('Error', body.msg, 'error');\n            }\n\n        } catch (error) {\n\n        }\n    }\n}\n\n\nexport const eventUpdated = (event) => ({\n    type: types.eventUpdated,\n    payload: event\n});\n\nexport const eventStartDelete = () => {\n    return async (dispatch, getState) => {\n\n        const { id } = getState().calendar.activeEvent; //desestructuramos id de la nota activa\n\n        try {\n            const resp = await fetchConToken(`events/${id}`, {}, 'DELETE');\n            const body = await resp.json();\n\n            if (body.ok) {\n                dispatch(eventDeleted());\n            } else {\n                Swal.fire('Error', body.msg, 'error');\n            }\n\n        } catch (error) {\n\n        }\n    }\n}\n\nconst eventDeleted = (event) => ({\n    type: types.eventDeleted,\n    payload: event\n});\n\n\nexport const eventStartLoading = () => {\n    return async (dispatch) => {\n        try {\n            const resp = await fetchConToken('events');\n            const body = await resp.json();\n\n            //preparamos events convertiendo a fechas end y start\n            const events = prepareEvents(body.eventos);\n            dispatch(eventLoaded(events));\n\n        } catch (error) {\n            console.log(error);\n        }\n    }\n}\n\nconst eventLoaded = (events) => ({\n    type: types.eventLoaded,\n    payload: events\n});\n\nexport const eventLogout = () => ({ type: types.eventLogout });","import Swal from \"sweetalert2\";\nimport { fetchConToken, fetchSinToken } from \"../helpers/fetch\"\nimport { types } from '../types/types';\nimport { eventLogout } from \"./events\";\n\nexport const startLogin = (email, password) => {\n    //esta estructura es para retornar valores asincrono\n    return async (dispatch) => {\n        const resp = await fetchSinToken('auth', { email, password }, 'POST');\n        const body = await resp.json();\n\n        if (body.ok) {\n            localStorage.setItem('token', body.token); //grabo token en localStorage\n            localStorage.setItem('token-init-date', new Date().getTime()); //grabar la fecha, hora y minuto en que se creo el token\n            dispatch(login({\n                uid: body.uid,\n                name: body.name\n            }));\n        } else {\n            Swal.fire('Error', body.msg, 'error');\n        }\n    }\n}\n\nexport const startRegister = (email, password, name) => {\n    return async (dispatch) => {\n        const resp = await fetchSinToken('auth/new', { email, password, name }, 'POST');\n        const body = await resp.json();\n\n        if (body.ok) {\n            localStorage.setItem('token', body.token); //grabo token en localStorage\n            localStorage.setItem('token-init-date', new Date().getTime()); //grabar la fecha, hora y minuto en que se creo el token\n            dispatch(login({\n                uid: body.uid,\n                name: body.name\n            }));\n        } else {\n            Swal.fire('Error', body.msg, 'error');\n        }\n    }\n}\n\nexport const startChecking = () => {\n    return async (dispatch) => {\n        const resp = await fetchConToken('auth/renew');\n        const body = await resp.json();\n\n        if (body.ok) {\n            localStorage.setItem('token', body.token); //grabo token en localStorage\n            localStorage.setItem('token-init-date', new Date().getTime()); //grabar la fecha, hora y minuto en que se creo el token\n            dispatch(login({\n                uid: body.uid,\n                name: body.name\n            }));\n        } else {\n            dispatch(checkingFinish())\n        }\n    }\n}\n\nconst checkingFinish = () => ({ type: types.authCheckingFinish });\n\n\nconst login = (user) => ({\n    type: types.authLogin,\n    payload: user\n});\n\nexport const startLogout = () => {\n    return (dispatch) => {\n        localStorage.clear(); //borramos todo del localStorage\n        dispatch(eventLogout());\n        dispatch(logout());\n    }\n}\n\nconst logout = () => ({ type: types.authLogout });","import { useState } from 'react';\n\n\nexport const useForm = ( initialState = {} ) => {\n    \n    const [values, setValues] = useState(initialState);\n\n    const reset = () => {\n        setValues( initialState );\n    }\n\n\n    const handleInputChange = ({ target }) => {\n\n        setValues({\n            ...values,\n            [ target.name ]: target.value\n        });\n\n    }\n\n    return [ values, handleInputChange, reset ];\n\n}","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useForm } from '../../hooks/useForm';\nimport {startLogin, startRegister} from '../../actions/auth'\nimport './login.css';\nimport Swal from \"sweetalert2\";\n\nexport const LoginScreen = () => {\n\n    const dispatch = useDispatch();\n\n    const [formLoginValues, handleLoginInputChange] = useForm({\n        lEmail: 'danielRivera@gmail.com',\n        lPassword: '1234568'\n    });\n    const [formRegisterValues, handleRegisterInputChange] = useForm({\n        rName: 'test 2',\n        rEmail: 'test2@test.com',\n        rPassword1: '1234',\n        rPassword2: '123456'\n    });\n\n    const { lEmail, lPassword } = formLoginValues;\n    const {rName, rEmail, rPassword1, rPassword2} = formRegisterValues;\n\n    const handleLogin = (e) => {\n        e.preventDefault();\n        dispatch(startLogin(lEmail, lPassword));\n    }\n\n    const handleRegister = (e) => {\n        e.preventDefault();\n        if (rPassword1 !== rPassword2) {\n            return Swal.fire('Error', 'Las contraseñas deben de ser iguales', 'error');\n        }\n    \n        dispatch(startRegister(rEmail, rPassword1, rName));\n    }\n\n    return (\n        <div className=\"container login-container\">\n            <div className=\"row\">\n                <div className=\"col-md-6 login-form-1\">\n                    <h3>Ingreso</h3>\n                    <form onSubmit={handleLogin}>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"text\"\n                                className=\"form-control\"\n                                placeholder=\"Correo\"\n                                name=\"lEmail\"\n                                value={lEmail}\n                                onChange={handleLoginInputChange}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"password\"\n                                className=\"form-control\"\n                                placeholder=\"Contraseña\"\n                                name=\"lPassword\"\n                                value={lPassword}\n                                onChange={handleLoginInputChange}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"submit\"\n                                className=\"btnSubmit\"\n                                value=\"Login\"\n                            />\n                        </div>\n                    </form>\n                </div>\n\n                <div className=\"col-md-6 login-form-2\">\n                    <h3>Registro</h3>\n                    <form onSubmit={handleRegister}>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"text\"\n                                className=\"form-control\"\n                                placeholder=\"Nombre\"\n                                name='rName'\n                                value={rName}\n                                onChange={handleRegisterInputChange}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"email\"\n                                className=\"form-control\"\n                                placeholder=\"Correo\"\n                                name='rEmail'\n                                value={rEmail}\n                                onChange={handleRegisterInputChange}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"password\"\n                                className=\"form-control\"\n                                placeholder=\"Contraseña\"\n                                name='rPassword1'\n                                value={rPassword1}\n                                onChange={handleRegisterInputChange}\n                            />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <input\n                                type=\"password\"\n                                className=\"form-control\"\n                                placeholder=\"Repita la contraseña\"\n                                name='rPassword2'\n                                value={rPassword2}\n                                onChange={handleRegisterInputChange}\n                            />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <input\n                                type=\"submit\"\n                                className=\"btnSubmit\"\n                                value=\"Crear cuenta\" />\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { startLogout } from '../../actions/auth';\n\nexport const NavBar = () => {\n    const dispatch = useDispatch();\n    const { name } = useSelector(state => state.auth);\n\n    const handleLogout = () => {\n        dispatch(startLogout());\n    }\n\n    return (\n        <div className='navbar navbar-dark bg-dark mb-4'>\n            <span className='navbar-brand'>\n                {name}\n            </span>\n\n            <button\n                className='btn btn-outline-danger'\n                onClick={handleLogout}\n            >\n                <i className='fas fa-sign-out-alt'></i>\n                <span>\n                    Salir\n                </span>\n            </button>\n        </div>\n    )\n};\n","\n//configuracion del calendario\nexport const messages = {\n    allDay: 'Todo el día',\n    previous: '<',\n    next: '>',\n    today: 'Hoy',\n    month: 'Mes',\n    week: 'Semana',\n    day: 'Día',\n    agenda: 'Agenda',\n    date: 'Fecha',\n    time: 'Hora',\n    event: 'Evento',\n    noEventsInRange: 'No hay eventos en este rango',\n    showMore: total => `+ Ver más (${total})`\n};","import React from 'react';\n\nexport const CalendarEvent = ({ event }) => {\n\n    const {title, user} = event;\n\n    return (\n        <div>\n            <span>{title}</span>\n            <span>- {user.name}</span>\n        </div>\n    )\n};\n","import {types} from '../types/types';\n\nexport const uiOpenModal = () => ({type: types.uiOpenModal});\nexport const uiCloseModal = () => ({type: types.uiCloseModal})\n\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport moment from 'moment';\nimport Modal from 'react-modal';\nimport DateTimePicker from 'react-datetime-picker';\nimport Swal from 'sweetalert2';\nimport { uiCloseModal } from '../../actions/ui';\nimport { eventStartAddNew, eventClearActiveEvent, eventStartUpdate } from '../../actions/events';\n\nconst customStyles = {\n    content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)',\n    },\n};\n\n// Make sure to bind modal to your appElement (https://reactcommunity.org/react-modal/accessibility/)\nModal.setAppElement('#root');\n\nconst now = moment().minutes(0).seconds(0).add(1, 'hours'); //si son las 23:26 se va a poner en 00:00\nconst nowPlusOne = now.clone().add(1, 'hours');\n\nconst initEvent = {\n    title: '',\n    notes: '',\n    start: now.toDate(),\n    end: nowPlusOne.toDate()\n}\n\nexport const CalendarModal = () => {\n\n    const { modalOpen } = useSelector(state => state.ui);\n    const { activeEvent } = useSelector(state => state.calendar)\n    const dispatch = useDispatch();\n\n    const [dateStart, setDateStart] = useState(now.toDate());\n    const [dateEnd, setDateEnd] = useState(nowPlusOne.toDate());\n    const [titleValid, setTitleValid] = useState(true);\n\n    const [formValues, setFormValues] = useState(initEvent);\n\n    const { notes, title, start, end } = formValues;\n\n\n    useEffect(() => {\n        if (activeEvent) {\n            setFormValues(activeEvent);\n        } else {\n            setFormValues(initEvent); //si activeEvent esta en null, vuevlve todo a 0 por defecto\n        }\n\n    }, [activeEvent, setFormValues]);\n\n\n    const handleInputChange = ({ target }) => {\n        setFormValues({\n            ...formValues,\n            [target.name]: target.value\n        })\n    }\n\n    const closeModal = () => {\n        // TODO: cerrar el modal\n        dispatch(uiCloseModal());\n        dispatch(eventClearActiveEvent()); //limpiamos los datos seleccionados para el show modal\n        setFormValues(initEvent);\n    }\n\n    const handleStartDateChange = (e) => {\n        setDateStart(e); //recibimos la fecha seleccionada de inicio\n        setFormValues({\n            ...formValues,\n            start: e\n        });\n    }\n\n    const handleEndDateChange = (e) => {\n        setDateEnd(e); //recibimos la fecha seleccionada de fin\n        setFormValues({\n            ...formValues,\n            end: e\n        });\n    }\n\n    const handleSubmitForm = (e) => {\n        e.preventDefault();\n\n        const momentStart = moment(start);\n        const momentEnd = moment(end);\n\n        if (momentStart.isSameOrAfter(momentEnd)) {\n            Swal.fire('Error', 'La fecha fin debe de ser mayor a la fecha de inicio', 'error');\n            return;\n        }\n\n        if (title.trim().length < 2) {\n            return setTitleValid(false);\n        }\n\n        if (activeEvent) {\n            dispatch(eventStartUpdate(formValues)) //actualizar un registro\n        } else {\n            //TODO: agregar un nuevo registro\n            dispatch(eventStartAddNew(formValues));\n        }\n\n\n\n        setTitleValid(true);\n        closeModal();\n    }\n\n    return (\n        <Modal\n            isOpen={modalOpen}\n            // onAfterOpen={afterOpenModal}\n            onRequestClose={closeModal}\n            style={customStyles}\n            closeTimeoutMS={200} //tiempo en cerrarse el modal\n            className='modal'\n            overlayClassName='modal-fondo'\n        >\n            <h1> {(activeEvent) ? 'Editar Event' : 'Nuevo Evento'} </h1>\n            <hr />\n            <form\n                className=\"container\"\n                onSubmit={handleSubmitForm}\n\n            >\n\n                <div className=\"form-group\">\n                    <label>Fecha y hora inicio</label>\n                    <DateTimePicker\n                        onChange={handleStartDateChange}\n                        value={dateStart}\n                        className='form-control'\n                    />\n                    {/* <input className=\"form-control\" placeholder=\"Fecha inicio\" /> */}\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Fecha y hora fin</label>\n                    <DateTimePicker\n                        onChange={handleEndDateChange}\n                        value={dateEnd}\n                        minDate={dateStart}\n                        className='form-control'\n                    />\n                    {/* <input className=\"form-control\" placeholder=\"Fecha inicio\" /> */}\n                </div>\n\n                <hr />\n                <div className=\"form-group\">\n                    <label>Titulo y notas</label>\n                    <input\n                        type=\"text\"\n                        className={`form-control ${!titleValid && 'is-invalid'}`}\n                        placeholder=\"Título del evento\"\n                        name=\"title\"\n                        autoComplete=\"off\"\n                        value={title}\n                        onChange={handleInputChange}\n                    />\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">Una descripción corta</small>\n                </div>\n\n                <div className=\"form-group\">\n                    <textarea\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Notas\"\n                        rows=\"5\"\n                        name=\"notes\"\n                        value={notes}\n                        onChange={handleInputChange}\n                    ></textarea>\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">Información adicional</small>\n                </div>\n\n                <button\n                    type=\"submit\"\n                    className=\"btn btn-outline-primary btn-block\"\n                >\n                    <i className=\"far fa-save\"></i>\n                    <span> Guardar</span>\n                </button>\n\n            </form>\n        </Modal>\n    )\n};\n","\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { uiOpenModal } from '../../actions/ui';\n\nexport const AddNewFab = () => {\n\n  const dispatch =  useDispatch();\n\n  const handleClickNew = () => {\n      dispatch(uiOpenModal());\n  }\n\n  return (\n      <button className='btn btn-primary fab' onClick={handleClickNew}>\n          <i className='fas fa-plus'/>\n      </button>\n  )\n};\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { eventStartDelete } from '../../actions/events';\n\nexport const DeleteEventFab = () => {\n    const dispatch = useDispatch();\n\n    const handleDelete = () => {\n        dispatch(eventStartDelete());\n    }\n\n    return (\n        <button className='btn btn-danger fab-danger' onClick={handleDelete}>\n            <i className='fas fa-trash'></i>\n            <span> Borrar evento</span>\n        </button>\n    )\n};\n","import React, { useEffect, useState } from 'react';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport moment from 'moment';\n\nimport { NavBar } from '../ui/NavBar';\nimport { messages } from '../../helpers/calendar.messages.es';\nimport { CalendarEvent } from './CalendarEvent';\nimport { CalendarModal } from './CalendarModal';\n\nimport 'moment/locale/es'; //configuracion para las semanas en espanol\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { uiOpenModal } from '../../actions/ui';\nimport { eventClearActiveEvent, eventSetActive, eventStartLoading } from '../../actions/events';\nimport { AddNewFab } from '../ui/AddNewFab';\nimport { DeleteEventFab } from '../ui/DeleteEventFab';\n\n//config para espanol\nmoment.locale('es');\n\n//configurar momentLocalizer para que muestre el calendar\nconst localizer = momentLocalizer(moment);\n\n// const events = [\n//     {\n//         title: 'Cumple del jefe',\n//         start: moment().toDate(),\n//         end: moment().add(2, 'hours').toDate(),\n//         bgcolor: '#fafafa',\n//         notes: 'Comprar el pastel',\n//         user: {\n//             _id: '1234',\n//             name: 'Daniel Antonio Rivera'\n//         }\n//     }\n// ]\n\nexport const CalendarScreen = () => {\n\n    const dispatch = useDispatch();\n    const { events, activeEvent } = useSelector(state => state.calendar);\n    const { uid } = useSelector(state => state.auth);\n\n    //TODO: leer \n\n    const [lastView, setLastView] = useState(localStorage.getItem('lastView') || 'month');\n\n    useEffect(() => {\n        dispatch(eventStartLoading());\n    }, [dispatch]);\n\n    //evento para doble click\n    const onDoubleClick = (e) => {\n        dispatch(uiOpenModal());\n    }\n\n    //evento para un solo click\n    const onSelectEvent = (e) => {\n        // console.log(e);\n        dispatch(eventSetActive(e));\n    }\n\n    //evento para saber en que vista estamos ejemp. mes, semana, dia, etc\n    const onViewChange = (e) => {\n        setLastView(e); //actualizamos con el ultimo cambio de vista que tiene\n        localStorage.setItem('lastView', e); //grabamos la vista actual\n    }\n\n    //consigue la info o data que seleccione\n    const eventStyleGetter = (event, start, end, isSelected) => {\n        const style = {\n            backgroundColor: (uid === event.user._id) ? '#367CF7' : '#465660',\n            borderRadius: '0px',\n            opacity: 0.8,\n            display: 'block',\n            color: 'white'\n        }\n\n        return {\n            style\n        }\n    }\n\n    const onSelectSlot = (e) => {\n        // console.log(e)\n        dispatch(eventClearActiveEvent()); //para que se limpie el state, cada vez que clickeamos a fuera de una nota\n    }\n\n    return (\n        <div className='calendar-screen'>\n            <NavBar />\n\n            <Calendar\n                localizer={localizer}\n                events={events}\n                startAccessor=\"start\"\n                endAccessor=\"end\"\n                messages={messages}\n                eventPropGetter={eventStyleGetter}\n                onSelectEvent={onSelectEvent}\n                onDoubleClickEvent={onDoubleClick}\n                onView={onViewChange}\n                onSelectSlot={onSelectSlot}\n                selectable={true}\n                view={lastView}\n                components={{\n                    event: CalendarEvent\n                }}\n            />\n\n            <AddNewFab />\n\n            {\n                (activeEvent) && <DeleteEventFab />\n            }\n\n            <CalendarModal />\n        </div>\n    );\n};\n","import React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst PrivateRoute = ({ children }) => {\n    const { uid } = useSelector(state => state.auth)\n    return (\n        !!uid //!!'cadena' para transformar en boolean y validar true o false\n            ? children //cualquier pantalla\n            : <Navigate to=\"/login\" /> //login\n    )\n}\n\nexport default PrivateRoute;","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Navigate } from 'react-router-dom';\n\nconst PublicRoute = ({ children }) => {\n    const { uid } = useSelector(state => state.auth)\n\n    return (!!uid //!!'cadena' para transformar en boolean y validar true o false\n        ? <Navigate to=\"/\" /> //calendario\n        : children //login\n\n    )\n}\n\nexport default PublicRoute;","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n    BrowserRouter as Router,\n    Routes,\n    Route\n} from \"react-router-dom\";\nimport { startChecking } from '../actions/auth';\nimport { LoginScreen } from '../components/auth/LoginScreen';\nimport { CalendarScreen } from '../components/calendar/CalendarScreen';\nimport PrivateRoute from './PrivateRoute';\nimport PublicRoute from './PublicRoute';\n\nexport const AppRouter = () => {\n\n    const dispatch = useDispatch();\n    const { checking } = useSelector(state => state.auth);\n\n    //verificar token para ver si es valido o revalidar token, para proteger las respectivas rutas\n    useEffect(() => {\n        dispatch(startChecking());\n    }, [dispatch]);\n\n\n    if (checking) {\n        return (<h5>Espere...</h5>);\n    }\n\n    return (\n        <Router>\n            <Routes>\n                <Route path=\"/login\" element={\n                    <PublicRoute>\n                        <LoginScreen />\n                    </PublicRoute>\n                }\n                />\n\n                <Route path=\"/*\" element={\n                    <PrivateRoute>\n                        <CalendarScreen />\n                    </PrivateRoute>\n                }\n                />\n            </Routes>\n        </Router>\n    )\n};\n","import React from 'react';\nimport {Provider} from 'react-redux';\nimport {store} from './store/store';\nimport { AppRouter } from './router/AppRouter';\n\n\nexport const CalendarApp = () => {\n  return (\n    <Provider store={store}>\n      <AppRouter/>\n    </Provider>\n  )\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CalendarApp } from './CalendarApp';\n\nimport './styles.css';\n\n// console.log(process.env)\n\nReactDOM.render(\n  <React.StrictMode>\n    <CalendarApp />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}